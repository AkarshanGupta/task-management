{"id":"gphe","dependencies":[{"name":"C:\\Users\\acer\\OneDrive\\Desktop\\tasky\\package.json","includedInParent":true,"mtime":1705907239193},{"name":"recoil","loc":{"line":15,"column":23,"index":629},"parent":"C:\\Users\\acer\\OneDrive\\Desktop\\tasky\\src\\atoms\\node.ts","resolved":"C:\\Users\\acer\\OneDrive\\Desktop\\tasky\\node_modules\\recoil\\dist\\index.js"},{"name":"./task","loc":{"line":16,"column":21,"index":662},"parent":"C:\\Users\\acer\\OneDrive\\Desktop\\tasky\\src\\atoms\\node.ts","resolved":"C:\\Users\\acer\\OneDrive\\Desktop\\tasky\\src\\atoms\\task.ts"},{"name":"./taskPosition","loc":{"line":17,"column":29,"index":703},"parent":"C:\\Users\\acer\\OneDrive\\Desktop\\tasky\\src\\atoms\\node.ts","resolved":"C:\\Users\\acer\\OneDrive\\Desktop\\tasky\\src\\atoms\\taskPosition.ts"},{"name":"./flow","loc":{"line":18,"column":21,"index":744},"parent":"C:\\Users\\acer\\OneDrive\\Desktop\\tasky\\src\\atoms\\node.ts","resolved":"C:\\Users\\acer\\OneDrive\\Desktop\\tasky\\src\\atoms\\flow.ts"},{"name":"./dependencies","loc":{"line":19,"column":29,"index":785},"parent":"C:\\Users\\acer\\OneDrive\\Desktop\\tasky\\src\\atoms\\node.ts","resolved":"C:\\Users\\acer\\OneDrive\\Desktop\\tasky\\src\\atoms\\dependencies.ts"}],"generated":{"js":"\"use strict\";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.extraDependenciesShown=exports.extraDependentsShown=exports.node=exports.flowDimensions=exports.flowTasks=void 0;var t=require(\"recoil\"),n=require(\"./task\"),s=require(\"./taskPosition\"),o=require(\"./flow\"),r=require(\"./dependencies\");function i(e){return\"number\"==typeof e.x&&\"number\"==typeof e.y}exports.flowTasks=t.selector({key:\"FlowTasks\",get:function(e){var t=e.get,r=t(o.selectedFlow);return t(n.taskList).filter(function(e){return!!r&&t(s.taskPositionFamily({task:e,flow:r})).visible})}}),exports.flowDimensions=t.selector({key:\"FlowDimensions\",get:function(e){var t=e.get,n=t(exports.flowTasks).map(function(e){return t(exports.node(e))})[0]||{},s=n.x,o=void 0===s?0:s,r=n.y;return{center:{x:o,y:void 0===r?0:r}}}}),exports.node=t.selectorFamily({key:\"Node\",get:function(e){return function(t){var i,a=t.get,l=a(n.taskFamily(e)),u=a(o.selectedFlow),c=a(s.taskPositionFamily({task:e,flow:u})),p=a(n.selectedTask),d=!!a(r.dependencyList).find(function(t){return t.right===e});return{id:e,title:l.title,status:l.status,x:c.x,y:c.y,isSelected:p===e,isUnblocked:(i=e,\"completed\"!==a(n.taskFamily(i)).status&&(0===a(r.taskDependencies(i)).map(function(e){return a(n.taskFamily(e))}).filter(function(e){return\"completed\"!==e.status}).length||void 0)),hasDependents:d}}},set:function(t){return function(n,r){var a=n.get,l=n.set,u=a(o.selectedFlow);i(r)&&l(s.taskPositionFamily({task:t,flow:u}),function(t){return e(e({},t),{x:r.x,y:r.y})})}}}),exports.extraDependentsShown=t.atom({key:\"extraDependentsShown\",default:null}),exports.extraDependenciesShown=t.atom({key:\"extraDependenciesShown\",default:null});"},"sourceMaps":{"js":{"mappings":[{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":0}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":13}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":17}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":19}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":25}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":30}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":40}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":51}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":58}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":60}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":67}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":75}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":84}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":87}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":91}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":95}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":97}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":99}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":101}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":103}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":113}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":120}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":122}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":124}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":128}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":132}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":136}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":141}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":143}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":153}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":156}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":163}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":173}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":188}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":193}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":195}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":200}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":202}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":205}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":207}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":211}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":218}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":222}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":228}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":233}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":245}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":252}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":267}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":275}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":288}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":289}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":296}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":300}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":308}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":331}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":339}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":360}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":368}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":373}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":381}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":396}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":404}},{"source":"atoms/node.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":419}},{"source":"atoms/node.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":421}},{"source":"atoms/node.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":425}},{"source":"atoms/node.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":427}},{"source":"atoms/node.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":435}},{"source":"atoms/node.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":445}},{"source":"atoms/node.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":447}},{"source":"atoms/node.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":455}},{"source":"atoms/node.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":465}},{"source":"atoms/node.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":467}},{"source":"atoms/node.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":475}},{"source":"atoms/node.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":493}},{"source":"atoms/node.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":495}},{"source":"atoms/node.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":503}},{"source":"atoms/node.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":513}},{"source":"atoms/node.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":515}},{"source":"atoms/node.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":523}},{"source":"atoms/node.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":541}},{"source":"atoms/node.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":550}},{"source":"atoms/node.ts","name":null,"original":{"line":48,"column":16},"generated":{"line":1,"column":552}},{"source":"atoms/node.ts","name":null,"original":{"line":49,"column":2},"generated":{"line":1,"column":555}},{"source":"atoms/node.ts","name":null,"original":{"line":49,"column":24},"generated":{"line":1,"column":561}},{"source":"atoms/node.ts","name":null,"original":{"line":49,"column":13},"generated":{"line":1,"column":578}},{"source":"atoms/node.ts","name":null,"original":{"line":49,"column":18},"generated":{"line":1,"column":580}},{"source":"atoms/node.ts","name":null,"original":{"line":49,"column":54},"generated":{"line":1,"column":583}},{"source":"atoms/node.ts","name":null,"original":{"line":49,"column":43},"generated":{"line":1,"column":600}},{"source":"atoms/node.ts","name":null,"original":{"line":49,"column":48},"generated":{"line":1,"column":602}},{"source":"atoms/node.ts","name":null,"original":{"line":7,"column":13},"generated":{"line":1,"column":604}},{"source":"atoms/node.ts","name":null,"original":{"line":7,"column":13},"generated":{"line":1,"column":612}},{"source":"atoms/node.ts","name":null,"original":{"line":7,"column":25},"generated":{"line":1,"column":622}},{"source":"atoms/node.ts","name":null,"original":{"line":7,"column":25},"generated":{"line":1,"column":624}},{"source":"atoms/node.ts","name":null,"original":{"line":7,"column":44},"generated":{"line":1,"column":633}},{"source":"atoms/node.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":634}},{"source":"atoms/node.ts","name":null,"original":{"line":8,"column":7},"generated":{"line":1,"column":638}},{"source":"atoms/node.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":650}},{"source":"atoms/node.ts","name":null,"original":{"line":9,"column":7},"generated":{"line":1,"column":654}},{"source":"atoms/node.ts","name":null,"original":{"line":9,"column":8},"generated":{"line":1,"column":663}},{"source":"atoms/node.ts","name":null,"original":{"line":9,"column":10},"generated":{"line":1,"column":666}},{"source":"atoms/node.ts","name":null,"original":{"line":9,"column":10},"generated":{"line":1,"column":670}},{"source":"atoms/node.ts","name":null,"original":{"line":9,"column":13},"generated":{"line":1,"column":672}},{"source":"atoms/node.ts","name":null,"original":{"line":9,"column":13},"generated":{"line":1,"column":674}},{"source":"atoms/node.ts","name":null,"original":{"line":10,"column":10},"generated":{"line":1,"column":678}},{"source":"atoms/node.ts","name":null,"original":{"line":10,"column":15},"generated":{"line":1,"column":680}},{"source":"atoms/node.ts","name":null,"original":{"line":10,"column":19},"generated":{"line":1,"column":682}},{"source":"atoms/node.ts","name":null,"original":{"line":10,"column":19},"generated":{"line":1,"column":684}},{"source":"atoms/node.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":698}},{"source":"atoms/node.ts","name":null,"original":{"line":11,"column":18},"generated":{"line":1,"column":705}},{"source":"atoms/node.ts","name":null,"original":{"line":11,"column":22},"generated":{"line":1,"column":707}},{"source":"atoms/node.ts","name":null,"original":{"line":11,"column":22},"generated":{"line":1,"column":709}},{"source":"atoms/node.ts","name":null,"original":{"line":12,"column":28},"generated":{"line":1,"column":719}},{"source":"atoms/node.ts","name":null,"original":{"line":12,"column":35},"generated":{"line":1,"column":726}},{"source":"atoms/node.ts","name":null,"original":{"line":12,"column":36},"generated":{"line":1,"column":735}},{"source":"atoms/node.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":1,"column":738}},{"source":"atoms/node.ts","name":null,"original":{"line":13,"column":11},"generated":{"line":1,"column":746}},{"source":"atoms/node.ts","name":null,"original":{"line":14,"column":27},"generated":{"line":1,"column":749}},{"source":"atoms/node.ts","name":null,"original":{"line":14,"column":31},"generated":{"line":1,"column":751}},{"source":"atoms/node.ts","name":null,"original":{"line":14,"column":31},"generated":{"line":1,"column":753}},{"source":"atoms/node.ts","name":null,"original":{"line":14,"column":50},"generated":{"line":1,"column":772}},{"source":"atoms/node.ts","name":null,"original":{"line":14,"column":52},"generated":{"line":1,"column":773}},{"source":"atoms/node.ts","name":null,"original":{"line":14,"column":58},"generated":{"line":1,"column":778}},{"source":"atoms/node.ts","name":null,"original":{"line":14,"column":61},"generated":{"line":1,"column":780}},{"source":"atoms/node.ts","name":null,"original":{"line":14,"column":67},"generated":{"line":1,"column":785}},{"source":"atoms/node.ts","name":null,"original":{"line":15,"column":26},"generated":{"line":1,"column":790}},{"source":"atoms/node.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":803}},{"source":"atoms/node.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":811}},{"source":"atoms/node.ts","name":null,"original":{"line":22,"column":30},"generated":{"line":1,"column":826}},{"source":"atoms/node.ts","name":null,"original":{"line":22,"column":30},"generated":{"line":1,"column":828}},{"source":"atoms/node.ts","name":null,"original":{"line":24,"column":3},"generated":{"line":1,"column":837}},{"source":"atoms/node.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":838}},{"source":"atoms/node.ts","name":null,"original":{"line":25,"column":7},"generated":{"line":1,"column":842}},{"source":"atoms/node.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":859}},{"source":"atoms/node.ts","name":null,"original":{"line":26,"column":7},"generated":{"line":1,"column":863}},{"source":"atoms/node.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":872}},{"source":"atoms/node.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":875}},{"source":"atoms/node.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":879}},{"source":"atoms/node.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":1,"column":881}},{"source":"atoms/node.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":1,"column":883}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":887}},{"source":"atoms/node.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":1,"column":889}},{"source":"atoms/node.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":1,"column":891}},{"source":"atoms/node.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":1,"column":899}},{"source":"atoms/node.ts","name":null,"original":{"line":28,"column":30},"generated":{"line":1,"column":910}},{"source":"atoms/node.ts","name":null,"original":{"line":28,"column":34},"generated":{"line":1,"column":914}},{"source":"atoms/node.ts","name":null,"original":{"line":28,"column":35},"generated":{"line":1,"column":923}},{"source":"atoms/node.ts","name":null,"original":{"line":28,"column":41},"generated":{"line":1,"column":926}},{"source":"atoms/node.ts","name":null,"original":{"line":28,"column":41},"generated":{"line":1,"column":933}},{"source":"atoms/node.ts","name":null,"original":{"line":28,"column":45},"generated":{"line":1,"column":935}},{"source":"atoms/node.ts","name":null,"original":{"line":28,"column":45},"generated":{"line":1,"column":943}},{"source":"atoms/node.ts","name":null,"original":{"line":28,"column":50},"generated":{"line":1,"column":948}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":38},"generated":{"line":1,"column":954}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":44},"generated":{"line":1,"column":958}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":961}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":963}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":965}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":967}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":1,"column":974}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":1,"column":978}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":16},"generated":{"line":1,"column":980}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":17},"generated":{"line":1,"column":982}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":19},"generated":{"line":1,"column":984}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":19},"generated":{"line":1,"column":986}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":19},"generated":{"line":1,"column":988}},{"source":"atoms/node.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":990}},{"source":"atoms/node.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":1,"column":996}},{"source":"atoms/node.ts","name":null,"original":{"line":34,"column":13},"generated":{"line":1,"column":997}},{"source":"atoms/node.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":1,"column":1004}},{"source":"atoms/node.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":1005}},{"source":"atoms/node.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":1,"column":1007}},{"source":"atoms/node.ts","name":null,"original":{"line":32,"column":6},"generated":{"line":1,"column":1009}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":20},"generated":{"line":1,"column":1016}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":20},"generated":{"line":1,"column":1020}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":1,"column":1022}},{"source":"atoms/node.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":1,"column":1024}},{"source":"atoms/node.ts","name":null,"original":{"line":52,"column":13},"generated":{"line":1,"column":1031}},{"source":"atoms/node.ts","name":null,"original":{"line":52,"column":13},"generated":{"line":1,"column":1039}},{"source":"atoms/node.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":1044}},{"source":"atoms/node.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":1046}},{"source":"atoms/node.ts","name":null,"original":{"line":52,"column":50},"generated":{"line":1,"column":1061}},{"source":"atoms/node.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":1062}},{"source":"atoms/node.ts","name":null,"original":{"line":53,"column":7},"generated":{"line":1,"column":1066}},{"source":"atoms/node.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":1073}},{"source":"atoms/node.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":1077}},{"source":"atoms/node.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":1,"column":1086}},{"source":"atoms/node.ts","name":null,"original":{"line":54,"column":15},"generated":{"line":1,"column":1089}},{"source":"atoms/node.ts","name":null,"original":{"line":54,"column":15},"generated":{"line":1,"column":1096}},{"source":"atoms/node.ts","name":null,"original":{"line":54,"column":16},"generated":{"line":1,"column":1105}},{"source":"atoms/node.ts","name":null,"original":{"line":54,"column":18},"generated":{"line":1,"column":1108}},{"source":"atoms/node.ts","name":null,"original":{"line":63,"column":28},"generated":{"line":1,"column":1112}},{"source":"atoms/node.ts","name":null,"original":{"line":54,"column":18},"generated":{"line":1,"column":1114}},{"source":"atoms/node.ts","name":null,"original":{"line":54,"column":21},"generated":{"line":1,"column":1116}},{"source":"atoms/node.ts","name":null,"original":{"line":54,"column":21},"generated":{"line":1,"column":1118}},{"source":"atoms/node.ts","name":null,"original":{"line":55,"column":10},"generated":{"line":1,"column":1122}},{"source":"atoms/node.ts","name":null,"original":{"line":55,"column":17},"generated":{"line":1,"column":1124}},{"source":"atoms/node.ts","name":null,"original":{"line":55,"column":21},"generated":{"line":1,"column":1126}},{"source":"atoms/node.ts","name":null,"original":{"line":55,"column":21},"generated":{"line":1,"column":1128}},{"source":"atoms/node.ts","name":null,"original":{"line":55,"column":32},"generated":{"line":1,"column":1139}},{"source":"atoms/node.ts","name":null,"original":{"line":56,"column":10},"generated":{"line":1,"column":1143}},{"source":"atoms/node.ts","name":null,"original":{"line":56,"column":17},"generated":{"line":1,"column":1145}},{"source":"atoms/node.ts","name":null,"original":{"line":56,"column":21},"generated":{"line":1,"column":1147}},{"source":"atoms/node.ts","name":null,"original":{"line":56,"column":21},"generated":{"line":1,"column":1149}},{"source":"atoms/node.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":1,"column":1163}},{"source":"atoms/node.ts","name":null,"original":{"line":57,"column":25},"generated":{"line":1,"column":1165}},{"source":"atoms/node.ts","name":null,"original":{"line":57,"column":29},"generated":{"line":1,"column":1167}},{"source":"atoms/node.ts","name":null,"original":{"line":57,"column":29},"generated":{"line":1,"column":1169}},{"source":"atoms/node.ts","name":null,"original":{"line":57,"column":48},"generated":{"line":1,"column":1188}},{"source":"atoms/node.ts","name":null,"original":{"line":57,"column":50},"generated":{"line":1,"column":1189}},{"source":"atoms/node.ts","name":null,"original":{"line":57,"column":56},"generated":{"line":1,"column":1194}},{"source":"atoms/node.ts","name":null,"original":{"line":57,"column":60},"generated":{"line":1,"column":1196}},{"source":"atoms/node.ts","name":null,"original":{"line":57,"column":64},"generated":{"line":1,"column":1201}},{"source":"atoms/node.ts","name":null,"original":{"line":58,"column":10},"generated":{"line":1,"column":1206}},{"source":"atoms/node.ts","name":null,"original":{"line":58,"column":21},"generated":{"line":1,"column":1208}},{"source":"atoms/node.ts","name":null,"original":{"line":58,"column":25},"generated":{"line":1,"column":1210}},{"source":"atoms/node.ts","name":null,"original":{"line":58,"column":25},"generated":{"line":1,"column":1212}},{"source":"atoms/node.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":1,"column":1226}},{"source":"atoms/node.ts","name":null,"original":{"line":60,"column":25},"generated":{"line":1,"column":1230}},{"source":"atoms/node.ts","name":null,"original":{"line":60,"column":29},"generated":{"line":1,"column":1232}},{"source":"atoms/node.ts","name":null,"original":{"line":60,"column":29},"generated":{"line":1,"column":1234}},{"source":"atoms/node.ts","name":null,"original":{"line":61,"column":41},"generated":{"line":1,"column":1250}},{"source":"atoms/node.ts","name":null,"original":{"line":61,"column":46},"generated":{"line":1,"column":1255}},{"source":"atoms/node.ts","name":null,"original":{"line":61,"column":47},"generated":{"line":1,"column":1264}},{"source":"atoms/node.ts","name":null,"original":{"line":61,"column":53},"generated":{"line":1,"column":1267}},{"source":"atoms/node.ts","name":null,"original":{"line":61,"column":53},"generated":{"line":1,"column":1274}},{"source":"atoms/node.ts","name":null,"original":{"line":61,"column":55},"generated":{"line":1,"column":1276}},{"source":"atoms/node.ts","name":null,"original":{"line":61,"column":65},"generated":{"line":1,"column":1284}},{"source":"atoms/node.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":1,"column":1288}},{"source":"atoms/node.ts","name":null,"original":{"line":75,"column":11},"generated":{"line":1,"column":1294}},{"source":"atoms/node.ts","name":null,"original":{"line":76,"column":6},"generated":{"line":1,"column":1295}},{"source":"atoms/node.ts","name":null,"original":{"line":76,"column":8},"generated":{"line":1,"column":1298}},{"source":"atoms/node.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":1300}},{"source":"atoms/node.ts","name":null,"original":{"line":77,"column":13},"generated":{"line":1,"column":1306}},{"source":"atoms/node.ts","name":null,"original":{"line":77,"column":18},"generated":{"line":1,"column":1308}},{"source":"atoms/node.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":1,"column":1314}},{"source":"atoms/node.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":1,"column":1321}},{"source":"atoms/node.ts","name":null,"original":{"line":78,"column":19},"generated":{"line":1,"column":1323}},{"source":"atoms/node.ts","name":null,"original":{"line":79,"column":6},"generated":{"line":1,"column":1330}},{"source":"atoms/node.ts","name":null,"original":{"line":79,"column":9},"generated":{"line":1,"column":1332}},{"source":"atoms/node.ts","name":null,"original":{"line":79,"column":22},"generated":{"line":1,"column":1334}},{"source":"atoms/node.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":1336}},{"source":"atoms/node.ts","name":null,"original":{"line":80,"column":9},"generated":{"line":1,"column":1338}},{"source":"atoms/node.ts","name":null,"original":{"line":80,"column":22},"generated":{"line":1,"column":1340}},{"source":"atoms/node.ts","name":null,"original":{"line":81,"column":6},"generated":{"line":1,"column":1342}},{"source":"atoms/node.ts","name":null,"original":{"line":81,"column":18},"generated":{"line":1,"column":1353}},{"source":"atoms/node.ts","name":null,"original":{"line":81,"column":31},"generated":{"line":1,"column":1357}},{"source":"atoms/node.ts","name":null,"original":{"line":82,"column":6},"generated":{"line":1,"column":1359}},{"source":"atoms/node.ts","name":null,"original":{"line":63,"column":28},"generated":{"line":1,"column":1372}},{"source":"atoms/node.ts","name":null,"original":{"line":82,"column":34},"generated":{"line":1,"column":1374}},{"source":"atoms/node.ts","name":null,"original":{"line":65,"column":26},"generated":{"line":1,"column":1376}},{"source":"atoms/node.ts","name":null,"original":{"line":64,"column":19},"generated":{"line":1,"column":1390}},{"source":"atoms/node.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":1392}},{"source":"atoms/node.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":1394}},{"source":"atoms/node.ts","name":null,"original":{"line":64,"column":34},"generated":{"line":1,"column":1405}},{"source":"atoms/node.ts","name":null,"original":{"line":65,"column":15},"generated":{"line":1,"column":1409}},{"source":"atoms/node.ts","name":null,"original":{"line":72,"column":42},"generated":{"line":1,"column":1418}},{"source":"atoms/node.ts","name":null,"original":{"line":66,"column":27},"generated":{"line":1,"column":1422}},{"source":"atoms/node.ts","name":null,"original":{"line":66,"column":31},"generated":{"line":1,"column":1424}},{"source":"atoms/node.ts","name":null,"original":{"line":66,"column":31},"generated":{"line":1,"column":1426}},{"source":"atoms/node.ts","name":null,"original":{"line":66,"column":48},"generated":{"line":1,"column":1443}},{"source":"atoms/node.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":1447}},{"source":"atoms/node.ts","name":null,"original":{"line":70,"column":13},"generated":{"line":1,"column":1451}},{"source":"atoms/node.ts","name":null,"original":{"line":70,"column":14},"generated":{"line":1,"column":1460}},{"source":"atoms/node.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":1,"column":1463}},{"source":"atoms/node.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":1,"column":1470}},{"source":"atoms/node.ts","name":null,"original":{"line":70,"column":25},"generated":{"line":1,"column":1472}},{"source":"atoms/node.ts","name":null,"original":{"line":70,"column":25},"generated":{"line":1,"column":1474}},{"source":"atoms/node.ts","name":null,"original":{"line":70,"column":36},"generated":{"line":1,"column":1485}},{"source":"atoms/node.ts","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":1491}},{"source":"atoms/node.ts","name":null,"original":{"line":71,"column":16},"generated":{"line":1,"column":1498}},{"source":"atoms/node.ts","name":null,"original":{"line":71,"column":17},"generated":{"line":1,"column":1507}},{"source":"atoms/node.ts","name":null,"original":{"line":71,"column":23},"generated":{"line":1,"column":1510}},{"source":"atoms/node.ts","name":null,"original":{"line":71,"column":36},"generated":{"line":1,"column":1516}},{"source":"atoms/node.ts","name":null,"original":{"line":71,"column":23},"generated":{"line":1,"column":1530}},{"source":"atoms/node.ts","name":null,"original":{"line":71,"column":25},"generated":{"line":1,"column":1532}},{"source":"atoms/node.ts","name":null,"original":{"line":72,"column":31},"generated":{"line":1,"column":1541}},{"source":"atoms/node.ts","name":null,"original":{"line":72,"column":6},"generated":{"line":1,"column":1554}},{"source":"atoms/node.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":1558}},{"source":"atoms/node.ts","name":null,"original":{"line":83,"column":19},"generated":{"line":1,"column":1572}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1577}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":7},"generated":{"line":1,"column":1581}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":1590}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":15},"generated":{"line":1,"column":1593}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":15},"generated":{"line":1,"column":1600}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":16},"generated":{"line":1,"column":1609}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":30},"generated":{"line":1,"column":1611}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":18},"generated":{"line":1,"column":1614}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":18},"generated":{"line":1,"column":1618}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":21},"generated":{"line":1,"column":1620}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":21},"generated":{"line":1,"column":1622}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":23},"generated":{"line":1,"column":1626}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":26},"generated":{"line":1,"column":1628}},{"source":"atoms/node.ts","name":null,"original":{"line":86,"column":26},"generated":{"line":1,"column":1630}},{"source":"atoms/node.ts","name":null,"original":{"line":87,"column":10},"generated":{"line":1,"column":1634}},{"source":"atoms/node.ts","name":null,"original":{"line":87,"column":17},"generated":{"line":1,"column":1636}},{"source":"atoms/node.ts","name":null,"original":{"line":87,"column":21},"generated":{"line":1,"column":1638}},{"source":"atoms/node.ts","name":null,"original":{"line":87,"column":21},"generated":{"line":1,"column":1640}},{"source":"atoms/node.ts","name":null,"original":{"line":89,"column":8},"generated":{"line":1,"column":1654}},{"source":"atoms/node.ts","name":null,"original":{"line":89,"column":15},"generated":{"line":1,"column":1656}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":6},"generated":{"line":1,"column":1660}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":10},"generated":{"line":1,"column":1662}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":10},"generated":{"line":1,"column":1664}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":29},"generated":{"line":1,"column":1683}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":31},"generated":{"line":1,"column":1684}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":37},"generated":{"line":1,"column":1689}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":41},"generated":{"line":1,"column":1691}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":45},"generated":{"line":1,"column":1696}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":50},"generated":{"line":1,"column":1700}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":51},"generated":{"line":1,"column":1709}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":68},"generated":{"line":1,"column":1712}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":68},"generated":{"line":1,"column":1719}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":68},"generated":{"line":1,"column":1721}},{"source":"atoms/node.ts","name":null,"original":{"line":90,"column":68},"generated":{"line":1,"column":1723}},{"source":"atoms/node.ts","name":null,"original":{"line":91,"column":11},"generated":{"line":1,"column":1726}},{"source":"atoms/node.ts","name":null,"original":{"line":91,"column":23},"generated":{"line":1,"column":1729}},{"source":"atoms/node.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":1,"column":1730}},{"source":"atoms/node.ts","name":null,"original":{"line":92,"column":11},"generated":{"line":1,"column":1732}},{"source":"atoms/node.ts","name":null,"original":{"line":92,"column":20},"generated":{"line":1,"column":1734}},{"source":"atoms/node.ts","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":1736}},{"source":"atoms/node.ts","name":null,"original":{"line":93,"column":11},"generated":{"line":1,"column":1738}},{"source":"atoms/node.ts","name":null,"original":{"line":93,"column":20},"generated":{"line":1,"column":1740}},{"source":"atoms/node.ts","name":null,"original":{"line":99,"column":13},"generated":{"line":1,"column":1750}},{"source":"atoms/node.ts","name":null,"original":{"line":99,"column":13},"generated":{"line":1,"column":1758}},{"source":"atoms/node.ts","name":null,"original":{"line":99,"column":36},"generated":{"line":1,"column":1779}},{"source":"atoms/node.ts","name":null,"original":{"line":99,"column":36},"generated":{"line":1,"column":1781}},{"source":"atoms/node.ts","name":null,"original":{"line":99,"column":56},"generated":{"line":1,"column":1786}},{"source":"atoms/node.ts","name":null,"original":{"line":100,"column":2},"generated":{"line":1,"column":1787}},{"source":"atoms/node.ts","name":null,"original":{"line":100,"column":7},"generated":{"line":1,"column":1791}},{"source":"atoms/node.ts","name":null,"original":{"line":101,"column":2},"generated":{"line":1,"column":1814}},{"source":"atoms/node.ts","name":null,"original":{"line":101,"column":11},"generated":{"line":1,"column":1822}},{"source":"atoms/node.ts","name":null,"original":{"line":103,"column":13},"generated":{"line":1,"column":1829}},{"source":"atoms/node.ts","name":null,"original":{"line":103,"column":13},"generated":{"line":1,"column":1837}},{"source":"atoms/node.ts","name":null,"original":{"line":103,"column":38},"generated":{"line":1,"column":1860}},{"source":"atoms/node.ts","name":null,"original":{"line":103,"column":38},"generated":{"line":1,"column":1862}},{"source":"atoms/node.ts","name":null,"original":{"line":103,"column":58},"generated":{"line":1,"column":1867}},{"source":"atoms/node.ts","name":null,"original":{"line":104,"column":2},"generated":{"line":1,"column":1868}},{"source":"atoms/node.ts","name":null,"original":{"line":104,"column":7},"generated":{"line":1,"column":1872}},{"source":"atoms/node.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":1897}},{"source":"atoms/node.ts","name":null,"original":{"line":105,"column":11},"generated":{"line":1,"column":1905}}],"sources":{"atoms/node.ts":"import { selectorFamily, selector, atom } from \"recoil\";\nimport { taskList, taskFamily, TaskStatus, selectedTask } from \"./task\";\nimport { taskPositionFamily } from \"./taskPosition\";\nimport { selectedFlow } from \"./flow\";\nimport { taskDependencies, dependencyList } from \"./dependencies\";\n\nexport const flowTasks = selector<string[]>({\n  key: \"FlowTasks\",\n  get: ({ get }) => {\n    const id = get(selectedFlow);\n    const tasks = get(taskList);\n    const flowTasks = tasks.filter((t) => {\n      if (!id) return false;\n      const taskPosition = get(taskPositionFamily({ task: t, flow: id }));\n      return taskPosition.visible;\n    });\n\n    return flowTasks;\n  },\n});\n\nexport const flowDimensions = selector<{\n  center: { x: number; y: number };\n}>({\n  key: \"FlowDimensions\",\n  get: ({ get }) => {\n    const taskList = get(flowTasks);\n    const allTasks = taskList.map((t) => get(node(t)));\n    const { x = 0, y = 0 } = allTasks[0] || {};\n    const center = {\n      x,\n      y,\n    };\n    return { center };\n  },\n});\ninterface NodeI {\n  id: string;\n  title: string;\n  status: TaskStatus;\n  x: number;\n  y: number;\n  isSelected: boolean;\n  isUnblocked: boolean;\n  hasDependents: boolean;\n}\n\nfunction isNode(node: any): node is NodeI {\n  if (typeof node.x === \"number\" && typeof node.y === \"number\") return true;\n  return false;\n}\nexport const node = selectorFamily<NodeI, string>({\n  key: \"Node\",\n  get: (id) => ({ get }) => {\n    const task = get(taskFamily(id));\n    const flow = get(selectedFlow);\n    const taskPosition = get(taskPositionFamily({ task: id, flow }));\n    const selected = get(selectedTask);\n\n    const dependencies = get(dependencyList);\n    const hasDependents = !!dependencies.find((d) => d.right === id);\n\n    function getIsUnblocked(t: string) {\n      const task = get(taskFamily(t));\n      if (task.status === \"completed\") return false;\n      const dependencies = get(taskDependencies(t));\n      // If the task has no dependencies, or all dependencies are\n      // completed, then it is unblocked.\n      const filteredDependencies = dependencies\n        .map((id) => get(taskFamily(id)))\n        .filter((d) => d.status !== \"completed\");\n      if (filteredDependencies.length === 0) return true;\n    }\n\n    return {\n      id,\n      title: task.title,\n      status: task.status,\n      x: taskPosition.x,\n      y: taskPosition.y,\n      isSelected: selected === id,\n      isUnblocked: getIsUnblocked(id),\n      hasDependents,\n    };\n  },\n  set: (id) => ({ get, set }, newValue) => {\n    const flow = get(selectedFlow);\n\n    if (isNode(newValue)) {\n      set(taskPositionFamily({ task: id, flow }), (taskPosition) => ({\n        ...taskPosition,\n        x: newValue.x,\n        y: newValue.y,\n      }));\n    }\n  },\n});\n\nexport const extraDependentsShown = atom<string | null>({\n  key: \"extraDependentsShown\",\n  default: null,\n});\nexport const extraDependenciesShown = atom<string | null>({\n  key: \"extraDependenciesShown\",\n  default: null,\n});\n"},"lineCount":null}},"error":null,"hash":"764190b876b0f21c9310e4dbfa99e485","cacheData":{"env":{}}}